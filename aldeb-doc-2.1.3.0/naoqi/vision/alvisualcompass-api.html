
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ALVisualCompass API &mdash; Aldebaran 2.1.3.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Aldebaran 2.1.3.0 documentation" href="../../index.html" />
    <link rel="up" title="ALVisualCompass" href="alvisualcompass.html" />
    <link rel="next" title="ALVisualSpaceHistory" href="alvisualspacehistory.html" />
    <link rel="prev" title="ALVisualCompass" href="alvisualcompass.html" />
 
<script type="text/javascript" src="https://community.aldebaran-robotics.com/static/js/include_doc.js"></script>
<script>
$(window).ready(function () {
    var width_label = 0;
    $('dl.function-index dt > span').each(function () {
        $(this).css('width', 'auto');
        width_label = Math.max(width_label, $(this).width());
    }).width(width_label + 30);
})

</script>


  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      <h1><a href="../../index.html">Aldebaran documentation</a></h1>
      <div id="global-nav">
        <a title="NAOqi Developer guide" href="../../index.html">Home</a>
        
         |
        <a title="NAO documentation" href="../../home_nao.html">NAO</a>
         |
        <a title="Romeo Documentation" href="../../home_romeo.html">Romeo</a>
         |
       <a title="Site map" href="../../contents.html">Site map</a>
        
         |
        <a title="Search" href="../../search.html">Search</a>
         |
        <a title="Index" href="../../genindex.html">Index</a>
        
        
      </div>
      <div class="nav">
    &laquo; <a href="alvisualcompass.html" title="ALVisualCompass">previous</a>
     |
    <a href="alvisualcompass.html" title="ALVisualCompass" accesskey="U">up</a>
   |
    <a href="alvisualspacehistory.html" title="ALVisualSpaceHistory">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="naoqi-vision-alvisualcompass-api">
            
  <div class="section" id="alvisualcompass-api">
<span id="id1"></span><h1>ALVisualCompass API<a class="headerlink" href="#alvisualcompass-api" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="index.html#naoqi-vision"><em>NAOqi Vision</em></a> - <a class="reference internal" href="alvisualcompass.html#alvisualcompass"><em>Overview</em></a> | API</p>
<hr class="docutils" />
<p>Namespace : <strong>AL</strong></p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;alproxies/alvisualcompassproxy.h&gt;</span>
</pre></div>
</div>
<div class="section" id="method-list">
<h2>Method list<a class="headerlink" href="#method-list" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ALVisualCompassProxy">
<em class="property">class </em><tt class="descname">ALVisualCompassProxy</tt><a class="headerlink" href="#ALVisualCompassProxy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<ul class="simple">
<li>As any module, this module inherits methods from <a class="reference internal" href="../core/almodule-api.html#almodule-api"><em>ALModule API</em></a>.</li>
<li>It also inherits methods from <a class="reference internal" href="../core/alextractor-api.html#alextractor-api"><em>ALExtractor API</em></a> and <a class="reference internal" href="../core/alvisionextractor-api.html#alvisionextractor-api"><em>ALVisionExtractor API</em></a>.</li>
<li>It also has the following specific methods:<ul>
<li><a class="reference internal" href="#ALVisualCompassProxy::enableReferenceRefresh__bCR" title="ALVisualCompassProxy::enableReferenceRefresh"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::enableReferenceRefresh()</span></tt></a></li>
<li><a class="reference internal" href="#ALVisualCompassProxy::getMatchingQuality" title="ALVisualCompassProxy::getMatchingQuality"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::getMatchingQuality()</span></tt></a></li>
<li><a class="reference internal" href="#ALVisualCompassProxy::getReferenceImage" title="ALVisualCompassProxy::getReferenceImage"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::getReferenceImage()</span></tt></a></li>
<li><a class="reference internal" href="#ALVisualCompassProxy::moveStraightTo__floatCR" title="ALVisualCompassProxy::moveStraightTo"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::moveStraightTo()</span></tt></a></li>
<li><a class="reference internal" href="#ALVisualCompassProxy::moveTo__floatCR.floatCR.floatCR" title="ALVisualCompassProxy::moveTo"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::moveTo()</span></tt></a></li>
<li><a class="reference internal" href="#ALVisualCompassProxy::setCurrentImageAsReference" title="ALVisualCompassProxy::setCurrentImageAsReference"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::setCurrentImageAsReference()</span></tt></a></li>
<li><a class="reference internal" href="#ALVisualCompassProxy::waitUntilTargetReached" title="ALVisualCompassProxy::waitUntilTargetReached"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::waitUntilTargetReached()</span></tt></a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="events-lists">
<h2>Events lists<a class="headerlink" href="#events-lists" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="#VisualCompass/Deviation" title="VisualCompass/Deviation"><tt class="xref naoqi naoqi-event docutils literal"><span class="pre">VisualCompass/Deviation()</span></tt></a></li>
<li><a class="reference internal" href="#VisualCompass/FinalDeviation" title="VisualCompass/FinalDeviation"><tt class="xref naoqi naoqi-event docutils literal"><span class="pre">VisualCompass/FinalDeviation()</span></tt></a></li>
<li><a class="reference internal" href="#VisualCompass/InvalidReference" title="VisualCompass/InvalidReference"><tt class="xref naoqi naoqi-event docutils literal"><span class="pre">VisualCompass/InvalidReference()</span></tt></a></li>
<li><a class="reference internal" href="#VisualCompass/Match" title="VisualCompass/Match"><tt class="xref naoqi naoqi-event docutils literal"><span class="pre">VisualCompass/Match()</span></tt></a></li>
<li><a class="reference internal" href="#VisualCompass/MoveAbort" title="VisualCompass/MoveAbort"><tt class="xref naoqi naoqi-event docutils literal"><span class="pre">VisualCompass/MoveAbort()</span></tt></a></li>
<li><a class="reference internal" href="#VisualCompass/NewReferenceImageSet" title="VisualCompass/NewReferenceImageSet"><tt class="xref naoqi naoqi-event docutils literal"><span class="pre">VisualCompass/NewReferenceImageSet()</span></tt></a></li>
</ul>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ALVisualCompassProxy::enableReferenceRefresh__bCR">
<a class="reference internal" href="../stdtypes.html#void" title="void">void</a> <tt class="descclassname">ALVisualCompassProxy::</tt><tt class="descname">enableReferenceRefresh</tt><big>(</big><a class="reference internal" href="../stdtypes.html#b" title="bool">const bool&amp;</a> <em>refresh</em><big>)</big><a class="headerlink" href="#ALVisualCompassProxy::enableReferenceRefresh__bCR" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if the reference image is taken again at subscribe (default behavior) or not.
If not, the reference image is not reset at next subscribe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>refresh</strong> &#8211; true / false.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALVisualCompassProxy::getMatchingQuality">
<a class="reference internal" href="../stdtypes.html#AL::ALValue" title="AL::ALValue">AL::ALValue</a> <tt class="descclassname">ALVisualCompassProxy::</tt><tt class="descname">getMatchingQuality</tt><big>(</big><big>)</big><a class="headerlink" href="#ALVisualCompassProxy::getMatchingQuality" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the reliability of the matching and the compass deviation computations.
It gives both the number of matches and the percentage of inliers for the model.
The number of matches must be at least greater than 4 and the percentage over
50% for the matching to be significant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Quality with the following format:<ul class="simple">
<li>quality[0]: float. Percentage of model inliers amongst matched keypoints.
Between 0.0f and 1.0f, must be over 0.5f to be significant.</li>
<li>quality[1]: int. Number of keypoints that were matched.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALVisualCompassProxy::getReferenceImage">
<a class="reference internal" href="../stdtypes.html#AL::ALValue" title="AL::ALValue">AL::ALValue</a> <tt class="descclassname">ALVisualCompassProxy::</tt><tt class="descname">getReferenceImage</tt><big>(</big><big>)</big><a class="headerlink" href="#ALVisualCompassProxy::getReferenceImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an AL::ALValue containing the image used as a reference.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">AL::ALValue formatted like the output of <a class="reference internal" href="alvideodevice-api.html#ALVideoDeviceProxy::getImageRemote__ssCR" title="ALVideoDeviceProxy::getImageRemote"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVideoDeviceProxy::getImageRemote()</span></tt></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALVisualCompassProxy::moveStraightTo__floatCR">
<a class="reference internal" href="../stdtypes.html#void" title="void">void</a> <tt class="descclassname">ALVisualCompassProxy::</tt><tt class="descname">moveStraightTo</tt><big>(</big><a class="reference internal" href="../stdtypes.html#float" title="float">const float&amp;</a> <em>pDistance</em><big>)</big><a class="headerlink" href="#ALVisualCompassProxy::moveStraightTo__floatCR" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes the robot move forward in a straight line of a given distance.
A negative distance value will result in moving backward.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pDistance</strong> &#8211; Algebric distance of which to move.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALVisualCompassProxy::moveTo__floatCR.floatCR.floatCR">
<a class="reference internal" href="../stdtypes.html#void" title="void">void</a> <tt class="descclassname">ALVisualCompassProxy::</tt><tt class="descname">moveTo</tt><big>(</big><a class="reference internal" href="../stdtypes.html#float" title="float">const float&amp;</a> <em>x</em>, <a class="reference internal" href="../stdtypes.html#float" title="float">const float&amp;</a> <em>y</em>, <a class="reference internal" href="../stdtypes.html#float" title="float">const float&amp;</a> <em>theta</em><big>)</big><a class="headerlink" href="#ALVisualCompassProxy::moveTo__floatCR.floatCR.floatCR" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="../motion/control-walk-api.html#ALMotionProxy::moveTo__floatCR.floatCR.floatCR" title="ALMotionProxy::moveTo"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALMotionProxy::moveTo()</span></tt></a>, makes the robot move to the given pose in the ground plane,
relative to FRAME_ROBOT. Unlike <a class="reference internal" href="../motion/control-walk-api.html#ALMotionProxy::moveTo__floatCR.floatCR.floatCR" title="ALMotionProxy::moveTo"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALMotionProxy::moveTo()</span></tt></a>, the robot decomposes the movement in
pure rotation and pure translation: the robot will turn to face the direction defined by x and y,
move forwards until the location is reached, then turn one last time to reach the right orientation.</p>
<p>Keep in mind that this function cannot make the robot move backwards (instead it will turn around
and move forwards). Furthermore, it always chooses the fastest path. Therefore, it cannot
be used to proceed to a full turn (the robot will not move, because it will already have the right
orientation).</p>
<p>This is a blocking call.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> &#8211; Distance along the X axis in meters.</li>
<li><strong>y</strong> &#8211; Distance along the Y axis in meters.</li>
<li><strong>theta</strong> &#8211; Rotation around the Z axis in radians.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALVisualCompassProxy::setCurrentImageAsReference">
<a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a> <tt class="descclassname">ALVisualCompassProxy::</tt><tt class="descname">setCurrentImageAsReference</tt><big>(</big><big>)</big><a class="headerlink" href="#ALVisualCompassProxy::setCurrentImageAsReference" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the old reference image then sets the current image as new reference image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><em>true</em> if the current image was successfully set as new reference image, <em>false</em> otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALVisualCompassProxy::waitUntilTargetReached">
<a class="reference internal" href="../stdtypes.html#void" title="void">void</a> <tt class="descclassname">ALVisualCompassProxy::</tt><tt class="descname">waitUntilTargetReached</tt><big>(</big><big>)</big><a class="headerlink" href="#ALVisualCompassProxy::waitUntilTargetReached" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits until the end of a <a class="reference internal" href="#ALVisualCompassProxy::moveTo__floatCR.floatCR.floatCR" title="ALVisualCompassProxy::moveTo"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::moveTo()</span></tt></a>
or a <a class="reference internal" href="#ALVisualCompassProxy::moveStraightTo__floatCR" title="ALVisualCompassProxy::moveStraightTo"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::moveStraightTo()</span></tt></a>.
This is a blocking call.</p>
</dd></dl>

</div>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<dl class="event">
<dt id="VisualCompass/Deviation">
<div class="line">Event: <tt class="descname">&quot;VisualCompass/Deviation&quot;</tt></div>
callback<big>(</big><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#AL::ALValue" title="AL::ALValue">AL::ALValue</a><em> value</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><big>)</big><a class="headerlink" href="#VisualCompass/Deviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised each time the deviation of the current image from the compass is
computed. The event is formatted as follows:</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="nt">VisualCompass</span><span class="o">/</span><span class="nt">Deviation</span> <span class="o">=</span> <span class="cp">[</span>
<span class="nx">DeviationInfo</span><span class="p">,</span>
<span class="nx">RobotPosition</span><span class="p">,</span>
<span class="nx">TimeStamp</span>
<span class="cp">]</span>
</pre></div>
</div>
<p><strong>DeviationInfo</strong> contains the deviation along Z axis (theta angle for
the robot pose) and Y axis.</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="nt">DeviationInfo</span> <span class="o">=</span> <span class="cp">[</span>
  <span class="nx">YAxisDeviation</span><span class="p">,</span>
  <span class="nx">ZAxisDeviation</span><span class="p">,</span>
<span class="cp">]</span>
</pre></div>
</div>
<p><strong>RobotPosition</strong> contains the robot position in WORLD_SPACE when the image
was taken.</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="nt">RobotPosition</span> <span class="o">=</span> <span class="cp">[</span>
  <span class="nx">X</span><span class="p">,</span>
  <span class="nx">Y</span><span class="p">,</span>
  <span class="nx">Theta</span>
<span class="cp">]</span>
</pre></div>
</div>
<p><strong>TimeStamp</strong>: this field is the time stamp of the image that was used to
compute the deviation.</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="nt">TimeStamp</span> <span class="o">=</span>
<span class="cp">[</span>
  <span class="nx">TimeStamp_Seconds</span><span class="p">,</span>
  <span class="nx">Timestamp_Microseconds</span>
<span class="cp">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="event">
<dt id="VisualCompass/FinalDeviation">
<div class="line">Event: <tt class="descname">&quot;VisualCompass/FinalDeviation&quot;</tt></div>
callback<big>(</big><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#AL::ALValue" title="AL::ALValue">AL::ALValue</a><em> value</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><big>)</big><a class="headerlink" href="#VisualCompass/FinalDeviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Continually raised by <a class="reference internal" href="#ALVisualCompassProxy::moveTo__floatCR.floatCR.floatCR" title="ALVisualCompassProxy::moveTo"><tt class="xref cpp cpp-func docutils literal"><span class="pre">ALVisualCompassProxy::moveTo()</span></tt></a> during rotations.
After the rotation, this event allows to access the final deviation.</p>
<p>The event is formatted as follows:</p>
<p><strong>FinalDeviation</strong> contains the final deviation along Z axis (theta angle for
the robot pose) and Y axis. After a rotation, <em>finalWz</em> will
be equal to the angle of which the robot actually turned.</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="nt">FinalDeviation</span> <span class="o">=</span> <span class="cp">[</span>
  <span class="nx">finalWy</span><span class="p">,</span>
  <span class="nx">finalWz</span><span class="p">,</span>
<span class="cp">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="event">
<dt id="VisualCompass/InvalidReference">
<div class="line">Event: <tt class="descname">&quot;VisualCompass/InvalidReference&quot;</tt></div>
callback<big>(</big><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isInvalid</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><big>)</big><a class="headerlink" href="#VisualCompass/InvalidReference" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised with true after failing to set a new reference image.</p>
</dd></dl>

<dl class="event">
<dt id="VisualCompass/Match">
<div class="line">Event: <tt class="descname">&quot;VisualCompass/Match&quot;</tt></div>
callback<big>(</big><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#AL::ALValue" title="AL::ALValue">AL::ALValue</a><em> value</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><big>)</big><a class="headerlink" href="#VisualCompass/Match" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The full name of this event is VisualCompass/Match in ALMemory.</p>
</div>
<p>Raised each time the deviation of the current image from the compass is
computed. The event is formatted as follows:</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="nt">VisualCompass</span><span class="o">/</span><span class="nt">Match</span> <span class="o">=</span>
<span class="cp">[</span>
  <span class="nx">ReferenceKeypoints</span><span class="p">,</span>
  <span class="nx">CurrentKeypoints</span><span class="p">,</span>
  <span class="nb">Matches</span><span class="p">,</span>
  <span class="nx">Inliers</span>
<span class="cp">]</span>
</pre></div>
</div>
<p><strong>ReferenceKeypoints</strong> is the list of keypoints extracted from the
reference image. <strong>CurrentKeypoints</strong> is the list of keypoints extracted
from the current processed image. Both are a list of <strong>Keypoint</strong> where:</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="nt">Keypoint</span> <span class="o">=</span>
<span class="cp">[</span>
  <span class="err">[</span><span class="nx">X</span><span class="p">,</span> <span class="nx">Y</span><span class="cp">]</span><span class="o">,</span>
  <span class="nt">Size</span><span class="o">,</span>
  <span class="nt">Angle</span><span class="o">,</span>
  <span class="nt">Response</span><span class="o">,</span>
  <span class="nt">Octave</span>
<span class="o">]</span>
</pre></div>
</div>
<p><strong>X</strong> and <strong>Y</strong> are the coordinates of the center of the keypoints in image
coordinates, <strong>Size</strong> is the size of the keypoint, <strong>Angle</strong> is the keypoint
orientation, <strong>Response</strong> is the keypoint strength, and <strong>Octave</strong> is the
keypoint scale.</p>
<p><strong>Matches</strong> is the list of the matches between the keypoints. Each <strong>Match</strong>
is:</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="nt">Match</span> <span class="o">=</span>
<span class="cp">[</span>
  <span class="nx">ReferenceIndex</span><span class="p">,</span>
  <span class="nx">CurrentIndex</span><span class="p">,</span>
  <span class="nx">Distance</span>
<span class="cp">]</span>
</pre></div>
</div>
<p><strong>ReferenceIndex</strong> is the index of the matched keypoint in the reference
list,  <strong>CurrentIndex</strong> is the index of the matched keypoint in the current
list, and <strong>Distance</strong> is the distance between the two keypoints.</p>
<p><strong>Inliers</strong> is the list of the match indexes for each direction (Y and Z
axis) which correspond to inliers for the Ransac: these are the indexes of
the coherent matches used to compute the deviation.</p>
<div class="highlight-guess"><div class="highlight"><pre><span class="nt">Inliers</span> <span class="o">=</span>
<span class="cp">[</span>
   <span class="n">InliersWy</span> <span class="o">=</span> <span class="err">[</span><span class="nx">Idx0</span><span class="p">,</span> <span class="nx">Idx1</span><span class="p">,</span> <span class="nx">...</span><span class="cp">]</span><span class="o">,</span>
   <span class="nt">InliersWz</span> <span class="o">=</span> <span class="cp">[</span><span class="nx">Idx0</span><span class="p">,</span> <span class="nx">Idx1</span><span class="p">,</span> <span class="nx">...</span><span class="cp">]</span>
<span class="o">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="event">
<dt id="VisualCompass/MoveAbort">
<div class="line">Event: <tt class="descname">&quot;VisualCompass/MoveAbort&quot;</tt></div>
callback<big>(</big><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> aborted</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><big>)</big><a class="headerlink" href="#VisualCompass/MoveAbort" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised after the end of a move, with true if the move was aborted
or with false if the target was reached.</p>
</dd></dl>

<dl class="event">
<dt id="VisualCompass/NewReferenceImageSet">
<div class="line">Event: <tt class="descname">&quot;VisualCompass/NewReferenceImageSet&quot;</tt></div>
callback<big>(</big><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isSet</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><big>)</big><a class="headerlink" href="#VisualCompass/NewReferenceImageSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised with true after successfully setting a new reference image,
raised with false after clearing the reference image.</p>
</dd></dl>

</div>
</div>


          </div>
          <!-- <div class="footernav">
    &laquo; <a href="alvisualcompass.html" title="ALVisualCompass">ALVisualCompass</a>
     |
    <a href="alvisualcompass.html" title="ALVisualCompass" accesskey="U">ALVisualCompass</a>
   |
    <a href="alvisualspacehistory.html" title="ALVisualSpaceHistory">ALVisualSpaceHistory</a> &raquo;</div> -->
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

  <h3>Table Of Contents</h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../contents.html">Site map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../news/index.html">What’s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../home_nao.html"><em>NAO</em> Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../home_romeo.html"><em>Romeo</em> Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index_dev_guide.html">NAOqi Developer guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dev/programming_index.html">Programming</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../ref/index.html">NAOqi Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../dev/naoqi/index.html">Key concepts</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">NAOqi API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../core/index.html">NAOqi Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../motion/index.html">NAOqi Motion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../audio/index.html">NAOqi Audio</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">NAOqi Vision</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="albacklightingdetection.html">ALBacklightingDetection</a></li>
<li class="toctree-l5"><a class="reference internal" href="albarcodereader.html">ALBarcodeReader</a></li>
<li class="toctree-l5"><a class="reference internal" href="alcloseobjectdetection.html">ALCloseObjectDetection</a></li>
<li class="toctree-l5"><a class="reference internal" href="alcolorblobdetection.html">ALColorBlobDetection</a></li>
<li class="toctree-l5"><a class="reference internal" href="aldarknessdetection.html">ALDarknessDetection</a></li>
<li class="toctree-l5"><a class="reference internal" href="allandmarkdetection.html">ALLandMarkDetection</a></li>
<li class="toctree-l5"><a class="reference internal" href="almovementdetection.html">ALMovementDetection</a></li>
<li class="toctree-l5"><a class="reference internal" href="alphotocapture.html">ALPhotoCapture</a></li>
<li class="toctree-l5"><a class="reference internal" href="alredballdetection.html">ALRedBallDetection</a></li>
<li class="toctree-l5"><a class="reference internal" href="alsegmentation3D.html">ALSegmentation3D</a></li>
<li class="toctree-l5"><a class="reference internal" href="alvideodevice.html">ALVideoDevice</a></li>
<li class="toctree-l5"><a class="reference internal" href="alvideorecorder.html">ALVideoRecorder</a></li>
<li class="toctree-l5"><a class="reference internal" href="alvisionrecognition.html">ALVisionRecognition</a></li>
<li class="toctree-l5"><a class="reference internal" href="allocalization.html">ALLocalization</a></li>
<li class="toctree-l5 current"><a class="reference internal" href="alvisualcompass.html">ALVisualCompass</a><ul class="current">
<li class="toctree-l6 current"><a class="current reference internal" href="">ALVisualCompass API</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="alvisualspacehistory.html">ALVisualSpaceHistory</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../peopleperception/index.html">NAOqi PeoplePerception</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sensors/index.html">NAOqi Sensors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../trackers/index.html">NAOqi Trackers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../diagnosis/aldiagnosis.html">ALDiagnosis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sensors/dcm.html">DCM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stdtypes.html">Types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cpp-classindex.html">&gt; All C++ Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cpp-funcindex.html">&gt; All C++ Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../naoqi-eventindex.html">&gt; All NAOqi Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../naoqi-memoryindex.html">&gt; All NAOqi Memory Keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/cpp-api.html">C++ API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/python-api.html">Python API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../embedded/upgrade_index.html">Managing my robot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legal/notice.html">Legal notices</a></li>
</ul>

    <h3><a href="../../index.html">On this page</a></h3>
    <ul>
<li><a class="reference internal" href="#">ALVisualCompass API</a><ul>
<li><a class="reference internal" href="#method-list">Method list</a></li>
<li><a class="reference internal" href="#events-lists">Events lists</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="alvisualcompass.html" title="ALVisualCompass">previous</a>
     |
    <a href="alvisualcompass.html" title="ALVisualCompass" accesskey="U">up</a>
   |
    <a href="alvisualspacehistory.html" title="ALVisualSpaceHistory">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>